{% set target = path.previous_chapter(sort) %}
<a
    class="previous-folder button accent"
    title="Previous: {{target}}"
    href="{{target.url(sort=sort) if target else ''}}"
    {{"" if target else "disabled"}}
>â­ </a>

{% set target = path.next_chapter(sort) %}
<a
    class="next-folder button accent"
    title="Next: {{target}}"
    href="{{target.url(sort=sort) if target else ''}}"
    {{"" if target else "disabled"}}
>â­¢</a>

{% if path.unextracted.is_nt_drive %}
    <a
        class="parent-folder button accent"
        title="Parent: This PC"
        href="/"
    >â­¡</a>
{% else %}
    {% set target = path.unextracted.parent %}
    <a
        class="parent-folder button accent"
        title="Parent: {{target}}""
        href="{{target.url(sort=sort)}}#{{path.as_anchor}}"
    >â­¡</a>
{% endif %}

{% set tail = path.url() ~ "?referer=" ~ request.url %}
{% if path.has_mark("read") %}
    <a
        class="toggle-read button accent"
        title="Mark as unread"
        href="/mark/unread{{tail}}"
    >ğŸ“–{{no_emoji}}<sup>âœ–</sup></a>
{% else %}
    <a
        class="toggle-read button accent"
        title="Mark as read"
        href="/mark/read{{tail}}"
    >ğŸ“–{{no_emoji}}<sup>âœ”</sup></a>
{% endif %}

{% set title_tag = "h1" if side == "top" else "p" %}
<{{title_tag}} class="folder-name" lang="und">
    {{path.name or path}}
</{{title_tag}}>

<button class="anki button" popovertarget="anki-popup-{{side}}">
    Anki
    <span class="accent">
        {{anki.learned | length if anki.loaded else "âœ•"}}
    </span>
</button>

<button class="ocr button" popovertarget="ocr-popup-{{side}}">
    OCR
    <span class="accent">
        {{"â¸" if queue_paused else queue | length}}
    </span>
</button>

<div id="anki-popup-{{side}}" class="anki" popover>
    {% include "anki-popup.html.jinja "%}
</div>

<div id="ocr-popup-{{side}}" class="ocr" popover>
    {% include "ocr-popup.html.jinja "%}
</div>
